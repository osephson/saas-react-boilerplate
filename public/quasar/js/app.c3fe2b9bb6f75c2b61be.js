webpackJsonp([6],{"+nwc":function(t,e){},0:function(t,e,n){t.exports=n("nplA")},"14gb":function(t,e,n){"use strict";var a=n("/5sW");e.a=new a.a},"1z9n":function(t,e){},"2leb":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={Login:function(){return n.e(4).then(n.bind(null,"YJLM"))}};e.default=[{path:"/",component:function(){return n.e(0).then(n.bind(null,"CuXv"))},children:[{path:"/login",name:"login",component:a.Login,meta:{guest:!0}}]}]},"3Puz":function(t,e){},"5pIN":function(t,e){},IcnI:function(t,e,n){"use strict";var a={};n.d(a,"someAction",function(){return f});var r=n("woOf"),o=n.n(r),u=n("/5sW"),c=n("NYxO"),i=n("1z9n"),s=n("5pIN"),l=n("Kkag"),f=function(t){t.commit;return l.a.get("").then(function(t){console.log(t.data)})},p={namespaced:!0,state:{},getters:i,mutations:s,actions:a},d={auth:n("aGfm").default};u.a.use(c.a);var h=new c.a.Store({modules:o()(d,p)});e.a=h},Kkag:function(t,e,n){"use strict";n.d(e,"a",function(){return p}),n.d(e,"b",function(){return d});var a=n("//Fk"),r=n.n(a),o=n("mtWM"),u=n.n(o),c=n("22C0"),i=n.n(c),s=n("M4fF"),l=(n.n(s),n("IcnI")),f=n("ubOM"),p=u.a.create({baseURL:"https://shop.khare.co.in/api",headers:{"Content-Type":"application/json",Accept:"Token"},params:{lang:Object(f.b)()}});p.interceptors.request.use(function(t){return i.a.getItem("auth/token").then(function(e){return t.headers.common.Authorization="Bearer "+e,t}).catch(function(){return t})},function(t){return console.log(t),r.a.reject(t)}),p.interceptors.response.use(function(t){return new r.a(function(e,n){Object(f.a)(t),e(t)})},function(t){return new r.a(function(e,n){var a=t.response;401!==a.status&&403!==a.status||l.a.dispatch("auth/clearAuth"),Object(f.a)(t),n(t)})});var d=function(t){p.interceptors.request.use(function(e){return Object(s.isEmpty)(t)?e.headers.common.Authorization=null:e.headers.common.Authorization="Bearer "+t,e},function(t){return console.log(t),r.a.reject(t)})}},N12Q:function(t,e){},R58i:function(t,e){},aGfm:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};n.d(a,"isAuthorised",function(){return u}),n.d(a,"getToken",function(){return c});var r={};n.d(r,"SET_TOKEN",function(){return i});var o={};n.d(o,"setToken",function(){return m}),n.d(o,"getLocalToken",function(){return g}),n.d(o,"clearToken",function(){return v}),n.d(o,"authenticate",function(){return b}),n.d(o,"initAuth",function(){return Q}),n.d(o,"signup",function(){return k});var u=function(t){return null!==t.token},c=function(t){return t.token},i=function(t,e){t.token=e},s=n("//Fk"),l=n.n(s),f=n("Kkag"),p=n("22C0"),d=n.n(p),h=n("M4fF"),m=function(t,e){var n=t.commit;return d.a.setItem("auth/token",e).then(function(){return n("SET_TOKEN",e),Object(f.b)(e),l.a.resolve(e)}).catch(function(t){return n("SET_TOKEN",null),Object(f.b)(null),l.a.reject(t)})},g=function(t){var e=t.commit;return d.a.getItem("auth/token").then(function(t){return e("SET_TOKEN",t),Object(f.b)(t),Object(h.isEmpty)(t)?l.a.reject(t):l.a.resolve(t)}).catch(function(t){return e("SET_TOKEN",null),Object(f.b)(null),l.a.reject(t)})},v=function(t){return(0,t.dispatch)("setToken",null)},b=function(t,e){var n=t.dispatch;return f.a.post("/auth/authorise",{email:e.email,password:e.password}).then(function(t){return console.log(t.data),n("setToken",t.data.token)}).catch(function(t){return console.log(t),n("clearToken")})},Q=function(t){return(0,t.dispatch)("getLocalToken")},k=function(t,e){var n=t.dispatch;return f.a.post("/users/signup",{email:e.email,password:e.password}).then(function(t){return console.log(t.data),n("setToken",t.data.token)}).catch(function(t){return console.log(t),n("clearToken")})};e.default={namespaced:!0,state:{token:null},getters:a,mutations:r,actions:o}},nplA:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Dd8w"),r=n.n(a),o=n("/5sW"),u=n("7109");o.a.use(u.N,{components:{QLayout:u.u,QLayoutHeader:u.w,QLayoutDrawer:u.v,QPageContainer:u.C,QPage:u.B,QToolbar:u.K,QToolbarTitle:u.L,QBtn:u.e,QIcon:u.m,QList:u.x,QListHeader:u.y,QItemSeparator:u.r,QItem:u.p,QItemSide:u.s,QItemMain:u.q,QItemTile:u.t,QInput:u.o,QCard:u.f,QCardTitle:u.k,QCardMain:u.h,QCardMedia:u.i,QCardSeparator:u.j,QCardActions:u.g,QRating:u.E,QSelect:u.H,QModal:u.z,QModalLayout:u.A,QInfiniteScroll:u.n,QSpinnerDots:u.I,QSearch:u.G,QTabs:u.J,QRouteTab:u.F,QPagination:u.D,QField:u.l},directives:{Ripple:u.M,CloseOverlay:u.a,GoBack:u.b},plugins:{Notify:u.d,Loading:u.c}});n("L4dm"),n("hAPP"),n("3Puz"),n("N12Q");var c=n("14gb"),i={name:"App",created:function(){var t=this;this.$store.dispatch("auth/initAuth").then(function(){c.a.$emit("authSync",t.$store.getters["auth/isAuthorised"])})}},s=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"q-app"}},[e("router-view")],1)},l=[];s._withStripped=!0;var f=n("XyMi"),p=!1;var d=function(t){p||n("tHqv")},h=Object(f.a)(i,s,l,!1,d,null,null);h.options.__file="src\\App.vue";var m=h.exports,g=n("/ocq"),v=n("Gu7T"),b=n.n(v),Q=[].concat(b()(n("2leb").default)),k=[{path:"/",component:function(){return n.e(1).then(n.bind(null,"lfHO"))},children:[{path:"",name:"home",component:function(){return n.e(3).then(n.bind(null,"2NXm"))},meta:{requiresAuth:!0}}]}].concat(b()(Q),[{path:"*",component:function(){return n.e(2).then(n.bind(null,"c5Mg"))}}]),T=n("IcnI"),O=n("22C0"),A=n.n(O),I=function(t,e,n){if(t.matched.length)return t.meta&&t.meta.guest?T.a.getters["auth/isAuthorised"]?n({path:e.path}):n():t.meta&&t.meta.requiresAuth?T.a.getters["auth/isAuthorised"]?n():(A.a.setItem("intended",t.name),n({name:"login"})):n();n({path:e.path})};o.a.use(g.a);var j=new g.a({mode:"hash",base:"/",scrollBehavior:function(){return{y:0}},routes:k});j.beforeEach(I);var w=j,y=n("TXmL"),L={en:{failed:"Action failed",success:"Action was successful"},hi:{failed:"एक्टिवेशन विफल",success:"एक्टिवेशन सफल"}},S=n("ubOM"),M=n("Kkag");A.a.config({driver:A.a.LOCALSTORAGE,storeName:"kickapp"});o.a.config.productionTip=!1;var E=r()({el:"#q-app",router:w,store:T.a},m),_=[];_.push(function(t){var e=t.app;t.Vue.use(y.a),e.i18n=new y.a({locale:Object(S.b)(),fallbackLocale:"en",messages:L})}),_.push(function(t){var e=t.Vue;e.prototype.$setHttpToken=M.b,e.prototype.$axios=M.a}),_.push(function(t){t.Vue.prototype.$localforage=A.a}),_.forEach(function(t){return t({app:E,router:w,store:T.a,Vue:o.a})}),new o.a(E)},tHqv:function(t,e){},ubOM:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var a=n("7109"),r=function(){var t=localStorage.getItem("locale");return(t=JSON.parse(t))||(localStorage.setItem("locale",'"en"'),"en")},o=function(t){var e="api call finished.";t.response?(t.response.data.message?e=t.response.data.message:t.response.data.error&&(e=t.response.data.error),a.d.create(e)):t.data&&t.data.message&&(e=t.data.message,a.d.create(e))}}},[0]);